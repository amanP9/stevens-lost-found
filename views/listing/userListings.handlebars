{{!-- TODO: Add Picture & Style it CSS--}}
{{!-- TODO: Get Rid Of "Unexpected end of JSON input on click of yes button in modal" --}}
{{!-- TODO: Verify the "Details" Button On Click --}}

<div class="listing-wrapper">
    {{#each itemsData}}
      <!-- Item Details -->
      <div class="item-listing">

{{!-- <div class="card-content">  --}}
  <div class="card">
  <div class="card-image"><img src="{{this.picture}}" alt="{{this.name}}"></div>
  {{!-- Review the assigned "src" and "alt" values above--}}

 <!-- The Image Modal -->
    {{!-- <div id="myModal" class="img-modal">
      <span class="close">&times;</span>
      <img class="modal-content" id="img01">
      <div id="caption"></div>
    </div> --}}

    {{!-- <script> //JS Script For Image Modal (Opens The Item Image On Click)  --}}
      {{!-- // Get the modal
     // var imgModal = document.getElementById("myModal");
      
      // Get the image and insert it inside the imgModal - use its "alt" text as a caption
     // var img = document.getElementById("myImg");
     // var modalImg = document.getElementById("img01");
     // var captionText = document.getElementById("caption");
     // img.onclick = function(){
     // imgModal.style.display = "block";
     // modalImg.src = this.src;
     // captionText.innerHTML = this.alt;
      }
      
      // Get the <span> element that closes the imgModal
     // var span = document.getElementsByClassName("close")[0];
      
      // When the user clicks on <span> (x), close the imgModal
     // span.onclick = function() { 
      //    imgModal.style.display = "none";
      } --}}
      {{!-- </script> --}}




  <div class="card-info">

        <!-- Item Description -->
        <div class="item-description">
          <span>{{this.type}}</span>
          <h1>{{this.name}}</h1>
          <p>{{this.description}}</p>
        </div>
  
        <!-- Dates -->
        <div class="item-dates">
          <p>{{this.createdAt}}</p>
          <p>{{this.dateLostOrFound}}</p>
  
        </div>
  
        <!-- Item Location -->
        <div class="item-location">
          <p>{{this.type}} Location: {{this.lostOrFoundLocation}}</p>
        </div>
      </div>
  
      </div>
  </div>
{{!-- </div> --}}

<!-- Trying If Statements For Setting itemAction and ItemActionString -->
  {{#ifEquals this.type "lost"}}
      <button id="modal-btn" class="button">Found</button> 
  
      <div id="modal" class="modal">
        <div class="modal-content">
          <div class="modal-header">
            <span class="close">&times;</span>
            <h2>{{this.name}}</h2>
          </div>
          <div class="modal-body">
            <p>Are you sure you have found this item?</p>
  {{/ifEquals}}

  {{#ifEquals this.type "found"}}
      <button id="modal-btn" class="button">Claim</button> 
  
      <div id="modal" class="modal">
        <div class="modal-content">
          <div class="modal-header">
            <span class="close">&times;</span>
            <h2>{{this.name}}</h2>
          </div>
          <div class="modal-body">
            <p>Are you sure this item is yours and you want to claim it?</p>
  {{/ifEquals}}
<!-- Trying If Statements For Setting itemAction and ItemActionString -->


            <button id="confirm-yes-btn" data-id="{{this._id}}" data-user="{{this.createdBy}}" class="button">Yes</button>
            <button id="confirm-no-btn" class="button">No</button>
  
            <p>Once you proceed with a yes, a confirmation email will be sent to
              the OP and the contact details of the OP will be shown.</p>
          </div>
          <div class="modal-footer">
            <h3>{{this.type}} Item</h3>
          </div>
        </div>
      </div>
  
      <div id="modal-inner" class="modal">
        <div class="modal-content">
          <div class="modal-header">
            <span class="close" id="close-btn-inner">&times;</span>
            <h2>{{this.name}}</h2>
          </div>
          <div class="modal-body">
            <button id="close-btn-inner-flat" class="button">Close</button>

          </div>
          <div class="modal-footer">
            <h3>An email to the OP has been sent for confirmation!</h3>
          </div>
        </div>
      </div>
  
      <button id="details-btn" class="button" data-button="{{this._id}}" data-user="{{this.createdBy}}">Details</button>
      <button id="edit-btn" class="button" data-button="{{this._id}}">Edit</button>
      <button id="delete-btn" class="button" data-button="{{this._id}}">Delete</button>
    {{/each}}

  </div>
<script src="/public/js/userListings.js" type="module"></script>
<link rel="stylesheet" href="/public/css/modal-styles.css" />
